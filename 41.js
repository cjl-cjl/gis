webpackJsonp([41],{581:function(t,n){t.exports='<!DOCTYPE html>\n<html>\n\n<head>\n\t<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n\t<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />\n\t<title>地图展示</title>\n\t<style type="text/css">\n\t\tbody,\n\t\thtml {\n\t\t\tmargin: 0;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t#map {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\n\t\t.drawingToolbar {\n\t\t\tz-index: 999;\n\t\t\tposition: absolute;\n\t\t\ttop: 10px;\n\t\t\t;\n\t\t\tleft: 10px;\n\t\t\tright: 10px;\n\t\t\twidth: 100%;\n\t\t\tline-height: 1;\n\t\t}\n\n\t\t.drawingToolbar table {\n\t\t\tbackground: #fff;\n\t\t}\n\t</style>\n</head>\n\n<body>\n\t<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=您的密钥"><\/script>\n\t<script type="text/javascript" src="https://api.map.baidu.com/library/LuShu/1.2/src/LuShu_min.js"><\/script>\n\t<script src="https://libs.baidu.com/jquery/1.9.0/jquery.js"><\/script>\n\t<script type="text/javascript" src="https://api.map.baidu.com/library/AreaRestriction/1.2/src/AreaRestriction_min.js"><\/script>\n\t<div id="map"></div>\n</body>\n\n</html>\n<script>\n\tvar map;\n\t//创建和初始化地图函数：\n\tfunction initMap() {\n\t\tcreateMap();//创建地图\n\t\tsetMapEvent();//设置地图事件\n\t};\n\tfunction createMap() {\n\t\tmap = new BMap.Map("map");\n\t\tmap.centerAndZoom(new BMap.Point(112.571757, 37.798085), 9);\n\t};\n\tfunction setMapEvent() {\n\t\tmap.enableScrollWheelZoom();\n\t};\n\tinitMap();\n\n\t//设置样式\n\tmap.setMapStyle({\n\t\tstyleJson: [\n\t\t\t{//不显示点信息\n\t\t\t\t"featureType": "poi",\n\t\t\t\t"elementType": "all",\n\t\t\t\t"stylers": {\n\t\t\t\t\t"color": "#ffffff",\n\t\t\t\t\t"visibility": "off"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t});\n\n\tmap.disableDragging();//禁止拖动\n\tmap.disableDoubleClickZoom();//禁止双击缩放\n\tvar blist = [];\n\tvar districtLoading = 0;\n\n\tfunction getBoundary() {\n\t\taddDistrict("西湖区");\n\t\taddDistrict("滨江区");\n\t}\n\n\t/**\n\t * 添加行政区划\n\t * @param {} districtName 行政区划名\n\t * @returns  无返回值\n\t */\n\tfunction addDistrict(districtName) {\n\t\t//使用计数器来控制加载过程\n\t\tdistrictLoading++;\n\t\tvar bdary = new BMap.Boundary();\n\t\tbdary.get(districtName, function (rs) {       //获取行政区域\n\t\t\tvar count = rs.boundaries.length; //行政区域的点有多少个\n\t\t\tif (count === 0) {\n\t\t\t\talert(\'未能获取当前输入行政区域\');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tblist.push({ points: rs.boundaries[i], name: districtName });\n\t\t\t};\n\t\t\t//加载完成区域点后计数器-1\n\t\t\tdistrictLoading--;\n\t\t\tif (districtLoading == 0) {\n\t\t\t\t//全加载完成后画端点\n\t\t\t\tdrawBoundary();\n\t\t\t}\n\t\t});\n\t}\n\n\n\t/**\n\t * 各种鼠标事件绑定\n\t */\n\tfunction click(evt) {\n\t\talert(evt.target.name);\n\t}\n\n\tfunction mouseover(evt) {\n\t\tevt.target.label.setZIndex(99);\n\t\tevt.target.label.setPosition(evt.point);\n\t\tevt.target.label.show();\n\t}\n\n\tfunction mousemove(evt) {\n\t\tevt.target.label.setPosition(evt.point);\n\t}\n\n\tfunction mouseout(evt) {\n\t\tevt.target.label.hide();\n\t}\n\n\tfunction drawBoundary() {\n\t\t//包含所有区域的点数组\n\t\tvar pointArray = [];\n\n\t\t/*画遮蔽层的相关方法\n\t\t*思路: 首先在中国地图最外画一圈，圈住理论上所有的中国领土，然后再将每个闭合区域合并进来，并全部连到西北角。\n\t\t*      这样就做出了一个经过多次西北角的闭合多边形*/\n\t\t//定义中国东南西北端点，作为第一层\n\t\tvar pNW = { lat: 59.0, lng: 73.0 }\n\t\tvar pNE = { lat: 59.0, lng: 136.0 }\n\t\tvar pSE = { lat: 3.0, lng: 136.0 }\n\t\tvar pSW = { lat: 3.0, lng: 73.0 }\n\t\t//向数组中添加一次闭合多边形，并将西北角再加一次作为之后画闭合区域的起点\n\t\tvar pArray = [];\n\t\tpArray.push(pNW);\n\t\tpArray.push(pSW);\n\t\tpArray.push(pSE);\n\t\tpArray.push(pNE);\n\t\tpArray.push(pNW);\n\t\t//循环添加各闭合区域\n\t\tfor (var i = 0; i < blist.length; i++) {\n\t\t\t//添加显示用标签层\n\t\t\tvar label = new BMap.Label(blist[i].name, { offset: new BMap.Size(20, -10) });\n\t\t\tlabel.hide();\n\t\t\tmap.addOverlay(label);\n\n\t\t\t//添加多边形层并显示\n\t\t\tvar ply = new BMap.Polygon(blist[i].points, { strokeWeight: 5, strokeColor: "#FF0000", fillOpacity: 0.01, fillColor: " #FFFFFF" }); //建立多边形覆盖物\n\t\t\tply.name = blist[i].name;\n\t\t\tply.label = label;\n\t\t\tply.addEventListener("click", click);\n\t\t\tply.addEventListener("mouseover", mouseover);\n\t\t\tply.addEventListener("mouseout", mouseout);\n\t\t\tply.addEventListener("mousemove", mousemove);\n\t\t\tmap.addOverlay(ply);\n\n\t\t\t//添加名称标签层\n\t\t\tvar centerlabel = new BMap.Label(blist[i].name, { offset: new BMap.Size(0, 0) });\n\t\t\tcenterlabel.setPosition(ply.getBounds().getCenter());\n\t\t\tmap.addOverlay(centerlabel);\n\n\t\t\t//将点增加到视野范围内\n\t\t\tvar path = ply.getPath();\n\t\t\tpointArray = pointArray.concat(path);\n\t\t\t//将闭合区域加到遮蔽层上，每次添加完后要再加一次西北角作为下次添加的起点和最后一次的终点\n\t\t\tpArray = pArray.concat(path);\n\t\t\tpArray.push(pArray[0]);\n\t\t}\n\n\t\t//限定显示区域，需要引用api库\n\t\tvar boundply = new BMap.Polygon(pointArray);\n\t\tBMapLib.AreaRestriction.setBounds(map, boundply.getBounds());\n\t\tmap.setViewport(pointArray);    //调整视野 \n\n\t\t//添加遮蔽层\n\t\tvar plyall = new BMap.Polygon(pArray, { strokeOpacity: 0.0000001, strokeColor: "#000000", strokeWeight: 0.00001, fillColor: "#000000", fillOpacity: 0.4 }); //建立多边形覆盖物\n\t\tmap.addOverlay(plyall);\n\t}\n\n\tsetTimeout(function () {\n\t\tgetBoundary();\n\t}, 100);\n<\/script>'}});